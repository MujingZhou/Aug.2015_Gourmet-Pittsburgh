CREATE DATABASE IF NOT EXISTS ServerDatabase;
USE ServerDatabase;
CREATE TABLE IF NOT EXISTS ServerDatabase.User(UserID INTEGER not NULL AUTO_INCREMENT,UserName VARCHAR(255),Password VARCHAR(255),Identification VARCHAR(255),Flavor VARCHAR(255),PRIMARY KEY (UserID));
CREATE TABLE IF NOT EXISTS ServerDatabase.Restaurants(RestaurantID INTEGER not NULL AUTO_INCREMENT,UserID INTEGER,RestaurantName VARCHAR(255),Telephone INTEGER,Location VARCHAR(255),OpenHour VARCHAR(255),Flavor VARCHAR(255) not null,AverageRating VARCHAR(255),NumberOfRates INTEGER,PRIMARY KEY (RestaurantID),FOREIGN KEY (UserID) REFERENCES User(UserID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS ServerDatabase.Dishes(DishesID INTEGER not NULL AUTO_INCREMENT,RestaurantID INTEGER,DishName VARCHAR(255),PRIMARY KEY (DishesID),FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS ServerDatabase.MyReservation(ReservationID INTEGER not NULL AUTO_INCREMENT,UserID INTEGER,RestaurantID INTEGER,ReserveTime VARCHAR(255),PRIMARY KEY (ReservationID),FOREIGN KEY (UserID) REFERENCES User(UserID) ON DELETE CASCADE,FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS ServerDatabase.MyFavorite(FavoriteID INTEGER not NULL AUTO_INCREMENT,BusinessID INTEGER,CustomerID INTEGER,RestaurantID INTEGER,PRIMARY KEY (FavoriteID),FOREIGN KEY (BusinessID) REFERENCES User(UserID) ON DELETE CASCADE,FOREIGN KEY (CustomerID) REFERENCES User(UserID) ON DELETE CASCADE,FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS ServerDatabase.MyRate(RateID INTEGER not NULL AUTO_INCREMENT,UserID INTEGER,RestaurantID INTEGER,Rating FLOAT,Review VARCHAR(255),PRIMARY KEY (RateID),FOREIGN KEY (UserID) REFERENCES User(UserID) ON DELETE CASCADE,FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID) ON DELETE CASCADE);